<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>coreSNTP: Sntp_ConvertToUnixTime</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">coreSNTP<span id="projectnumber">&#160;v1.3.1</span>
   </div>
   <div id="projectbrief">Client library for synchronizing device time with internet time using Simple Network Time Protocol (SNTP)</div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('sntp_converttounixtime_function.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Sntp_ConvertToUnixTime </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Utility to convert SNTP timestamp (that uses 1st Jan 1900 as the epoch) to UNIX timestamp (that uses 1st Jan 1970 as the epoch).  </p>
<dl class="section note"><dt>Note</dt><dd>This function converts SNTP timestamps to UNIX time supporting both 32-bit and 64-bit representations based on the configuration macro USE_LEGACY_TIME_API.</dd></dl>
<ul>
<li>If USE_LEGACY_TIME_API is defined, the conversion is limited to the date range from 1st Jan 1970 0h 0m 0s (UNIX epoch) to 19th Jan 2038 3h 14m 7s, due to the 32-bit width limitation.</li>
<li>If USE_LEGACY_TIME_API is not defined, 64-bit UNIX time representation is used, allowing conversion of SNTP timestamps beyond the year 2038 (Y2038 problem mitigated).</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>The function also correctly handles SNTP era overflow (from 7 Feb 2036 6h 28m 16s, i.e., SNTP era 1) to ensure accurate conversion across SNTP eras.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pSntpTime</td><td>The SNTP timestamp to convert to UNIX time. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pUnixTimeSecs</td><td>This will be filled with the seconds part of the UNIX time equivalent of the SNTP time, <code>pSntpTime</code>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pUnixTimeMicrosecs</td><td>This will be filled with the microseconds part of the UNIX time equivalent of the SNTP time, <code>pSntpTime</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns one of the following:<ul>
<li><a class="el" href="group__sntp__enum__types.html#ggaef7b22d8008bbfbbc7bbea5a7a30e798a8486f9ee1815b43418a9c0478bd8f016" title="Successful operation of an SNTP API.">SntpSuccess</a> if conversion to UNIX time is successful</li>
<li><a class="el" href="group__sntp__enum__types.html#ggaef7b22d8008bbfbbc7bbea5a7a30e798a1829c0158e4f2630b6806afa4511dfd7" title="Invalid parameter passed to an API function.">SntpErrorBadParameter</a> if any of the passed parameters are NULL.  </li>
</ul>
</dd></dl>
<p>Here is a code example of using the API. </p><div class="fragment"><div class="line">    <a class="code hl_typedef" href="core__sntp__serializer_8h.html#a8877fd3eea1a90efdd3cea1024d5282d">UnixTime_t</a> unixSecs;</div>
<div class="line">    uint32_t unixMs;</div>
<div class="line">    <a class="code hl_enumeration" href="group__sntp__enum__types.html#gaef7b22d8008bbfbbc7bbea5a7a30e798">SntpStatus_t</a> status = <a class="code hl_function" href="core__sntp__serializer_8h.html#a9d07377dd8efc162dcd33a53403f8d9a">Sntp_ConvertToUnixTime</a>( pServerTime, &amp;unixSecs, &amp;unixMs );</div>
<div class="line"> </div>
<div class="ttc" id="acore__sntp__serializer_8h_html_a8877fd3eea1a90efdd3cea1024d5282d"><div class="ttname"><a href="core__sntp__serializer_8h.html#a8877fd3eea1a90efdd3cea1024d5282d">UnixTime_t</a></div><div class="ttdeci">uint64_t UnixTime_t</div><div class="ttdoc">Type representing seconds since Unix epoch (January 1, 1970 UTC).</div><div class="ttdef"><b>Definition:</b> core_sntp_serializer.h:57</div></div>
<div class="ttc" id="acore__sntp__serializer_8h_html_a9d07377dd8efc162dcd33a53403f8d9a"><div class="ttname"><a href="core__sntp__serializer_8h.html#a9d07377dd8efc162dcd33a53403f8d9a">Sntp_ConvertToUnixTime</a></div><div class="ttdeci">SntpStatus_t Sntp_ConvertToUnixTime(const SntpTimestamp_t *pSntpTime, UnixTime_t *pUnixTimeSecs, uint32_t *pUnixTimeMicrosecs)</div><div class="ttdoc">Utility to convert SNTP timestamp (that uses 1st Jan 1900 as the epoch) to UNIX timestamp (that uses ...</div><div class="ttdef"><b>Definition:</b> core_sntp_serializer.c:814</div></div>
<div class="ttc" id="agroup__sntp__enum__types_html_gaef7b22d8008bbfbbc7bbea5a7a30e798"><div class="ttname"><a href="group__sntp__enum__types.html#gaef7b22d8008bbfbbc7bbea5a7a30e798">SntpStatus_t</a></div><div class="ttdeci">SntpStatus_t</div><div class="ttdoc">Enumeration of status codes that can be returned by the coreSNTP Library API.</div><div class="ttdef"><b>Definition:</b> core_sntp_serializer.h:154</div></div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
